import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{f as _,a as v,b as n,s as r,n as a,t as y}from"../chunks/B1HoO4k0.js";import{T as Qr}from"../chunks/CcX1cm_-.js";import{P as I}from"../chunks/ClksMsit.js";import{P as g}from"../chunks/B8FEnsbH.js";import{M as o}from"../chunks/e5qaD0UW.js";import{C as w}from"../chunks/DunPP-_K.js";import{H as E}from"../chunks/VyKLllFE.js";import{S as L}from"../chunks/D2QCM4hc.js";import{P as Hr}from"../chunks/BOV-mclC.js";import{T as C}from"../chunks/CYEUtE_3.js";import{C as G}from"../chunks/MrKGOgMB.js";import{E as Dr}from"../chunks/Swjzo_E6.js";import{E as wr}from"../chunks/C0Z7FaNC.js";import{D as Lr}from"../chunks/BzUaRmkq.js";var Mr=_("<!> <!>",1),zr=_("<!> <!> <!> <!> <!> <!> <!> <!>",1),Fr=_(`<b>Перестановка</b> <!> объектов &mdash; способ последовательного расположения
    этих объектов с учётом их порядка.`,1),Jr=_("Например, все возможные перестановки <!> объектов <!>:",1),Kr=_("<!> <!>",1),Rr=_("Количество всевозможных перестановок <!> объектов &mdash; факториал числа <!>",1),Ur=_("При этом <!>, ведь есть только один способ расположить <!> объектов &mdash; никак.",1),Vr=_("Получаем рекуррентное тождество, справедливое для всех целых <!>",1),Wr=_("<!> <!> <!> <!> <!>",1),Xr=_(`Возьмём какое-то множество <!>. <b>Эндоморфизм</b> множества <!> &mdash;
    отображение <!> множества <!> на себя.`,1),Yr=_("Эндоморфизмы можно итерировать. <b>Итерация</b> эндоморфизма <!> &mdash; композиционная степень <!>",1),Zr=_("Для любого эндоморфизма <!> конечного множества <!> найдутся два неравных числа <!> и <!> таких, что",1),ro=_("<!> <!> <!> <!> <!> <!> <!>",1),oo=_(`<b>Автоморфизм</b> множества <!> &mdash; обратимый эндоморфизм множества <!>,
    или, другими словами, биекция <!> множества <!> на себя.`,1),ao=_(`Автоморфизмы тоже можно итерировать, потому что это эндоморфизмы.
    Но итерации автоморфизмов не могут &laquo;сжать&raquo; множество <!>,
    то есть если <!> &mdash; автоморфизм <!>, то <!>.`,1),no=_("<!> <!>",1),eo=_(`<b>Перестановка</b> множества <!> &mdash; автоморфизм <!>.
    В переводе с пришельского на русский, перестановка &mdash;
    это переупорядочивание элементов множества <!>.
    Это переупорядочивание, а также сама перестановка, записываются как`,1),_o=_("Эта запись означает, что при автоморфизме <!>",1),to=_("<!> <!> <!> <!>",1),so=_("<!> <!>",1),vo=_(`Точно так же, как и для обычных отображений, для перестановок определяется операция композиции.
    Композиция двух перестановок <!> и <!> &mdash; перестановка <!>.`,1),mo=_("По операции композиции есть единичный элемент <!>, называемый единичной перестановкой",1),io=_("<!> <!> <!> <!> <!> <!> <!> <!>",1),lo=_(`Множество всех перестановок множества <!> образуют группу по композиции.
    Эта группа обозначается <!> и называется <b>группой перестановок</b>.`,1),$o=_(`Пусть <!> &mdash;
    какая-то перестановка <!> множества <!>.`,1),po=_(`Если <!> и <!>,
    то пара <!> называется <b>инверсией</b> перестановки <!>.`,1),go=_("инверсиями являются пары <!>, <!> и <!>.",1),co=_(`Каждая инверсия в перестановке &mdash; это пара, &laquo;нарушающая порядок&raquo;.
    Единственная перестановка, не содержащая инверсий &mdash; перестановка <!>.`,1),ho=_("<!> <!> <!> <!> <!> <!>",1),fo=_("<b>Транспозиция</b> &mdash; перестановка, где меняются местами только два элемента.",1),Po=_(`Транспозиция коротко записывается <!>,
    то есть мы меняем местами элементы <!> и <!>.`,1),uo=_("<!> <!>",1),xo=_(`Можем уточнить количество транспозиций:
    не более <!>, ведь мы по очереди ставим <!> элементов
    на свои места, а последний элемент встает на место вместе с предпоследним.`,1),bo=_("<!> <!>",1),ko=_("Перестановка <b>четная</b>, если она представляется как произведение четного числа транспозиций, и <b>нечетная</b>, если она представляется нечетным числом транспозиций.",1),jo=_("<!> <!>",1),qo=_("<b>Инволюционная перестановка</b> (инволюция) &mdash; перестановка, равная обратной себе.",1),yo=_("<b>Количество инволюций</b> длины <!> равно <!>, а <!>.",1),So=_("Пусть <!> – перестановка чисел <!>.",1),Io=_(`Если <!> и <!>, то пара <!> называется инверсией
    перестановки.`,1),No=_("<!> <!> <!>",1),Bo=_("<!> &mdash; число инверсий в перестановке <!>",1),Go=_("Число инверсий в перестановке и в ёй обратной одинаково: <!>.",1),Eo=_("<!> <!> <!> <!>",1),To=_("Пусть <!> - перестановка чисел <!>.",1),Ho=_("<b>Таблица инверсий</b> перестановки <!> &mdash; последовательность <!>, в которой <!> равно числу элементов перестановки <!>, стоящих левее <!> и больших <!>.",1),wo=_("<!> <!>",1),Lo=_("Построение за <!>",1),Co=_(`Построить таблицу инверсий за <!> можно в лоб по определению. Проходимся по всем элементам
    перестановки
    и считаем, сколько элементов, стоящих левее, его больше.`,1),Ao=_("Построение за <!>",1),Oo=_(`Часто пригождается знание о том, сколько существует перестановок <!> элементов,
    имеющих ровно <!> инверсий. Это число обозначается <!>.
    По определению <!> при <!> и <!>.
    Из таблицы инверсий ясно, что <!> и <!>,
    и что <!> симметрично:`,1),Qo=_("Обозначим производящую функцию <!> за <!>.",1),Do=_("Значения <!> в таблице инверсий мы можем выбирать независимо друг от друга, поэтому",1),Mo=_("Можно раскрыть рекуррентное соотношение для <!> и получить полную формулу",1),zo=_("Общая формула для <!> очень сложная, но почему бы её не привести:",1),Fo=_("здесь <!> &mdash; пентагональное число.",1),Jo=_("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Ko=_("Разделив <!> на <!> получим производящую функцию <!> распределения числа инверсий в случайной перестановке <!> элементов.",1),Ro=_("Эту производящую функцию <!> можно представить в виде произведения функций",1),Uo=_(`Давайте вспомним, что <!> &mdash;
    производящая функция равномерно распределённой случайной величины,
    принимающей неотрицательные целые значения, меньшие <!>. Поэтому`,1),Vo=_("Получается, что для количество инверсий в случайной перестановке <!> элементов",1),Wo=_("<!> <!> <!> <!> <!> <!> <!> <!>",1),Xo=_(`<b>Индекс</b> <!> перестановки <!> &mdash;
    сумма всех <!>, для которых <!> при <!>.`,1),Yo=_("<!> <!>",1),Zo=_("Число перестановок, имеющих данный индекс <!> совпадает с числом перестановок с <!> инверсиями:",1),ra=_("<!> <!>",1),oa=_(`В этой сумме перед <!> стоит коэффициент,
    равный количеству перестановок, имеющий индекс <!>.`,1),aa=_(`Для доказательства теоремы нам нужно доказать, что <!>,
    где <!> &mdash; производящая функция для количества инверсий <!>.`,1),na=_("<!> <!> <!> <!>",1),ea=_(`Составим биекцию между <!>-мерными строками <!> и парами <!>,
    у которых <!>.`,1),_a=_(`Любая <!>-мерная строка <!> может быть отсортирована, то есть можно взять какую-то перестановку <!> так,
    чтобы <!> невозрастала, то есть <!>.
    При этом сортировка устойчива, то есть если <!>,
    то <!>`,1),ta=_(`Для того, чтобы выполнилось условие для сумм,
    для каждой пары <!>,
    у которой <!>,
    вычтем <!> из каждого <!>.
    После вычитания получим требуемую строку <!>.`,1),da=_("<!> <!> <!> <!> <!>",1),sa=_(`Производящая функция из чисел <!> из второго набора
    совпадает с производящей функцией числа разбиений не более чем на <!> частей`,1),va=_("<!> <!> <!> <!> <!> <!> <!> <!>",1),ma=_("<!> <!> <!>",1),ia=_(`Важный результат, получаемый из теоремы Мак-Магона: распределение индекса совпадает с распределением числа инверсий.
    Это значит, что для индекса случайной перестановки <!> элементов`,1),la=_("<!> <!>",1),$a=_(`Существует биекция между
    множеством перестановок с <!> инверсиями и индексом <!> и множеством перестановок с <!> инверсиями и индексом <!>.`,1),pa=_("<!> <!>",1),ga=_(`Покажите, что при <!> количество перестановок <!> элементов,
    у которых число инверсий сравнимо с <!> по модулю <!> равно <!> не зависимо от значения <!>.
    Другими словами, покажите, что`,1),ca=_("<!> <!>",1),ha=_(`Пусть <!> &mdash; какая-то перестановка <!> элементов.
    Пусть <!> &mdash; множество инверсий перестановки <!> и <!> &mdash; множество неинверсий перестановки <!>:`,1),fa=_("Докажите, что <!> и <!> транзитивны как отношения.",1),Pa=_(`Докажите что &laquo;обратное&raquo; тоже верно.
    Посмотрим на множество <!>.
    Выберем какое-то транзитивное подмножество <!>,
    дополнение к которому <!> тоже транзитивно.
    Тогда найдётся такая перестановка <!>, что <!>.`,1),ua=_("<!> <!> <!> <!>",1),xa=_("<!> <!>",1),ba=_("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function Oa(Cr){var A=ba(),O=v(A);Qr(O,{title:"Перестановки"});var Q=r(O,2);G(Q,{children:(d,j)=>{G.List(d,{children:(e,c)=>{var $=zr(),i=v($);G.Item(i,{to:"#automorphisms",children:(p,u)=>{a();var P=y("Автоморфизмы");n(p,P)},$$slots:{default:!0}});var f=r(i,2);G.Item(f,{to:"#permutations",children:(p,u)=>{a();var P=y("Перестановки");n(p,P)},$$slots:{default:!0}});var l=r(f,2);G.List(l,{children:(p,u)=>{G.Item(p,{to:"#permutations",children:(P,k)=>{a();var b=y("Основные свойства");n(P,b)},$$slots:{default:!0}})},$$slots:{default:!0}});var h=r(l,2);G.Item(h,{to:"#inversions",children:(p,u)=>{a();var P=y("Инверсии");n(p,P)},$$slots:{default:!0}});var t=r(h,2);G.List(t,{children:(p,u)=>{var P=Mr(),k=v(P);G.Item(k,{to:"#inversions",children:(q,S)=>{a();var N=y("Инверсии");n(q,N)},$$slots:{default:!0}});var b=r(k,2);G.Item(b,{to:"#distribution-of-inversions",children:(q,S)=>{a();var N=y("Распределение числа инверсий");n(q,N)},$$slots:{default:!0}}),n(p,P)},$$slots:{default:!0}});var m=r(t,2);G.Item(m,{to:"#indexes",children:(p,u)=>{a();var P=y("Индексы");n(p,P)},$$slots:{default:!0}});var s=r(m,2);G.List(s,{children:(p,u)=>{G.Item(p,{to:"#indexes",children:(P,k)=>{a();var b=y("Индексы");n(P,b)},$$slots:{default:!0}})},$$slots:{default:!0}});var x=r(s,2);G.Item(x,{to:"#exercises",children:(p,u)=>{a();var P=y("Упражнения");n(p,P)},$$slots:{default:!0}}),n(e,$)},$$slots:{default:!0}})}});var D=r(Q,2);Lr(D,{title:"Перестановка",children:(d,j)=>{g(d,{children:(e,c)=>{var $=Fr(),i=r(v($),2);o(i,{m:"n"}),a(),n(e,$)}})}});var M=r(D,2);I(M,{children:(d,j)=>{var e=Kr(),c=v(e);g(c,{children:(i,f)=>{a();var l=Jr(),h=r(v(l));o(h,{m:"3"});var t=r(h,2);o(t,{m:"a, b, c"}),a(),n(i,l)}});var $=r(c,2);o($,{display:!0,m:"abc, \\quad acb, \\quad bac, \\quad bca, \\quad cab, \\quad cba"}),n(d,e)}});var z=r(M,2);I(z,{children:(d,j)=>{var e=Wr(),c=v(e);g(c,{children:(h,t)=>{a();var m=Rr(),s=r(v(m));o(s,{m:"n"});var x=r(s,2);o(x,{m:"n"}),n(h,m)}});var $=r(c,2);o($,{display:!0,m:"n! \\defeq n \\cdot (n-1) \\cdot (n-2) \\cdot (n-3) \\dotsb 3 \\cdot 2 \\cdot 1 = \\prod_{k=1}^n k"});var i=r($,2);g(i,{children:(h,t)=>{a();var m=Ur(),s=r(v(m));o(s,{m:"0! = 1"});var x=r(s,2);o(x,{m:"0"}),a(),n(h,m)}});var f=r(i,2);g(f,{children:(h,t)=>{a();var m=Vr(),s=r(v(m));o(s,{m:"n \\ge 1"}),n(h,m)}});var l=r(f,2);o(l,{display:!0,m:"n! = n \\cdot (n-1)!"}),n(d,e)}});var F=r(z,2);E(F,{anchor:"automorphisms",children:(d,j)=>{a();var e=y("Автоморфизмы множеств");n(d,e)}});var J=r(F,2);I(J,{children:(d,j)=>{var e=ro(),c=v(e);g(c,{children:(m,s)=>{a();var x=Xr(),p=r(v(x));o(p,{m:"S"});var u=r(p,4);o(u,{m:"S"});var P=r(u,2);o(P,{m:"f \\colon S \\to S"});var k=r(P,2);o(k,{m:"S"}),a(),n(m,x)}});var $=r(c,2);g($,{children:(m,s)=>{a();var x=Yr(),p=r(v(x),3);o(p,{m:"f"});var u=r(p,2);o(u,{m:"f"}),n(m,x)}});var i=r($,2);o(i,{display:!0,m:"f^n = \\underbrace{f \\compose f \\compose f \\compose \\dotsb \\compose f}_{n ~\\text{раз}}"});var f=r(i,2);g(f,{children:(m,s)=>{a();var x=y("Итерации одного множества коммутируют");n(m,x)}});var l=r(f,2);o(l,{display:!0,m:"f^n \\compose f^m = f^m \\compose f^n = f^{n+m}"});var h=r(l,2);g(h,{children:(m,s)=>{a();var x=Zr(),p=r(v(x));o(p,{m:"f \\colon S \\to S"});var u=r(p,2);o(u,{m:"S"});var P=r(u,2);o(P,{m:"n"});var k=r(P,2);o(k,{m:"m"}),a(),n(m,x)}});var t=r(h,2);o(t,{display:!0,m:"\\forall x \\in S \\? f^n (x) = f^m (x)"}),n(d,e)}});var K=r(J,2);I(K,{children:(d,j)=>{var e=no(),c=v(e);g(c,{children:(i,f)=>{var l=oo(),h=r(v(l),2);o(h,{m:"S"});var t=r(h,2);o(t,{m:"S"});var m=r(t,2);o(m,{m:"S \\bijto S"});var s=r(m,2);o(s,{m:"S"}),a(),n(i,l)}});var $=r(c,2);g($,{children:(i,f)=>{a();var l=ao(),h=r(v(l));o(h,{m:"S"});var t=r(h,2);o(t,{m:"f"});var m=r(t,2);o(m,{m:"S"});var s=r(m,2);o(s,{m:"f[S] = S"}),a(),n(i,l)}}),n(d,e)}});var R=r(K,2);E(R,{anchor:"permutations",children:(d,j)=>{a();var e=y("Перестановки");n(d,e)}});var U=r(R,2);Lr(U,{title:"Перестановка",children:(d,j)=>{var e=to(),c=v(e);g(c,{children:(l,h)=>{var t=eo(),m=r(v(t),2);o(m,{m:"S"});var s=r(m,2);o(s,{m:"S"});var x=r(s,2);o(x,{m:"S"}),a(),n(l,t)}});var $=r(c,2);o($,{display:!0,m:`\\sigma = \\pmatrix{a_1 & a_2 & a_3 & \\cdots & a_{n-1} & a_n \\\\
          b_1 & b_2 & b_3 & \\cdots & b_{n-1} & b_n}`});var i=r($,2);g(i,{children:(l,h)=>{a();var t=_o(),m=r(v(t));o(m,{m:"\\sigma"}),n(l,t)}});var f=r(i,2);o(f,{display:!0,m:"a_1 \\mapsto b_1 \\quad a_2 \\mapsto b_2 \\quad a_3 \\mapsto b_3 \\quad \\cdots \\quad a_{n-1} \\mapsto b_{n-1} \\quad a_n \\mapsto b_n"}),n(d,e)}});var V=r(U,2);I(V,{children:(d,j)=>{var e=so(),c=v(e);g(c,{children:(i,f)=>{a();var l=y("Обычно элементы в записи перестановки превращают в цифры и сортируют первую строку. Получается вот так");n(i,l)}});var $=r(c,2);o($,{display:!0,m:"\\sigma = \\pmatrix{1 & 2 & 3 & \\cdots & n-1 & n \\\\ \\sigma(1) & \\sigma(2) & \\sigma(3) & \\cdots & \\sigma(n-1) & \\sigma(n)}"}),n(d,e)}});var W=r(V,2);I(W,{children:(d,j)=>{var e=io(),c=v(e);g(c,{children:(s,x)=>{a();var p=vo(),u=r(v(p));o(u,{m:"\\sigma"});var P=r(u,2);o(P,{m:"\\tau"});var k=r(P,2);o(k,{m:"\\sigma \\compose \\tau"}),a(),n(s,p)}});var $=r(c,2);o($,{display:!0,m:`\\sigma \\compose \\tau
          = \\pmatrix{1 & 2 & \\cdots & n \\\\ \\sigma(1) & \\sigma(2) & \\cdots & \\sigma(n)}
          \\compose \\pmatrix{1 & 2 & \\cdots & n \\\\ \\tau(1) & \\tau(2) & \\cdots & \\tau(n)}
          = \\pmatrix{1 & 2 & \\cdots & n \\\\ \\sigma\\big(\\tau(1)\\big) & \\sigma\\big(\\tau(2)\\big) & \\cdots & \\sigma\\big(\\tau(n)\\big)}`});var i=r($,2);g(i,{children:(s,x)=>{a();var p=y("Композиция перестановок ассоциативна, но не коммутативна");n(s,p)}});var f=r(i,2);o(f,{display:!0,m:`\\sigma \\compose (\\tau \\compose \\rho) = (\\sigma \\compose \\tau) \\compose \\rho
          \\qquad\\text{и}\\qquad
          \\sigma \\compose \\tau \\neq \\tau \\compose \\sigma`});var l=r(f,2);g(l,{children:(s,x)=>{a();var p=mo(),u=r(v(p));o(u,{m:"\\1"}),a(),n(s,p)}});var h=r(l,2);o(h,{display:!0,m:"\\1 = \\pmatrix{1 & 2 & 3 & \\cdots & n-1 & n \\\\ 1 & 2 & 3 & \\cdots & n-1 & n}"});var t=r(h,2);g(t,{children:(s,x)=>{a();var p=y("Эта единичная перестановка оставляет все элементы на своих местах. По этому");n(s,p)}});var m=r(t,2);o(m,{display:!0,m:"\\sigma \\compose \\1 = \\1 \\compose \\sigma = \\sigma"}),n(d,e)}});var X=r(W,2);I(X,{children:(d,j)=>{g(d,{children:(e,c)=>{a();var $=lo(),i=r(v($));o(i,{m:"\\{1, 2, \\dotsc, n\\}"});var f=r(i,2);o(f,{m:"\\S_n"}),a(3),n(e,$)}})}});var Y=r(X,2);E(Y,{anchor:"inversions",children:(d,j)=>{a();var e=y("Инверсии");n(d,e)}});var Z=r(Y,2);I(Z,{children:(d,j)=>{var e=ho(),c=v(e);g(c,{children:(t,m)=>{a();var s=$o(),x=r(v(s));o(x,{m:"\\sigma \\in \\S_n"});var p=r(x,2);o(p,{m:"(\\sigma_1, \\sigma_2, \\dotsc, \\sigma_n)"});var u=r(p,2);o(u,{m:"\\{1, 2, \\dotsc, n\\}"}),a(),n(t,s)}});var $=r(c,2);g($,{children:(t,m)=>{a();var s=po(),x=r(v(s));o(x,{m:"i < j"});var p=r(x,2);o(p,{m:"\\sigma_i > \\sigma_j"});var u=r(p,2);o(u,{m:"(\\sigma_i, \\sigma_j)"});var P=r(u,4);o(P,{m:"\\sigma"}),a(),n(t,s)}});var i=r($,2);g(i,{children:(t,m)=>{a();var s=y("Например, у перестановки");n(t,s)}});var f=r(i,2);o(f,{display:!0,m:"\\sigma = \\pmatrix{1 & 2 & 3 & 4 & 5 \\\\ 3 & 1 & 2 & 5 & 4}"});var l=r(f,2);g(l,{children:(t,m)=>{a();var s=go(),x=r(v(s));o(x,{m:"(3,1)"});var p=r(x,2);o(p,{m:"(3, 2)"});var u=r(p,2);o(u,{m:"(5, 4)"}),a(),n(t,s)}});var h=r(l,2);g(h,{children:(t,m)=>{a();var s=co(),x=r(v(s));o(x,{m:"\\1"}),a(),n(t,s)}}),n(d,e)}});var rr=r(Z,2);I(rr,{children:(d,j)=>{g(d,{children:(e,c)=>{a();var $=y("Композиция перестановок");n(e,$)}})}});var or=r(rr,2);w(or,{language:"python",code:`def compose(p1, p2):
    assert len(p1) == len(p2)
    
    p = [0] * len(p1)
    for i in range(len(p1)):
        p[i] = p2[p1[i]] 
        
    return p`});var ar=r(or,2);E(ar,{anchor:"transpositions",children:(d,j)=>{a();var e=y("Транспозиции");n(d,e)}});var nr=r(ar,2);I(nr,{children:(d,j)=>{var e=uo(),c=v(e);g(c,{children:(i,f)=>{var l=fo();a(),n(i,l)}});var $=r(c,2);g($,{children:(i,f)=>{a();var l=Po(),h=r(v(l));o(h,{m:"(i ~ j)"});var t=r(h,2);o(t,{m:"i"});var m=r(t,2);o(m,{m:"j"}),a(),n(i,l)}}),n(d,e)}});var er=r(nr,2);C(er,{title:"Теорема о представлении перестановок",children:(d,j)=>{I(d,{children:(e,c)=>{g(e,{children:($,i)=>{a();var f=y("Любая перестановка может быть представлена как композиция транспозиций.");n($,f)}})}})}});var _r=r(er,2);Hr(_r,{children:(d,j)=>{I(d,{children:(e,c)=>{var $=bo(),i=v($);g(i,{children:(l,h)=>{a();var t=y(`Поместим сначала на первую позицию тот элемент, который там должен стоять, и больше не будет его трогать. Затем на
    вторую позицию тот элемент, который там должен быть, и так далее, пока все элементы не встанут на свои места.`);n(l,t)}});var f=r(i,2);g(f,{children:(l,h)=>{a();var t=xo(),m=r(v(t));o(m,{m:"n-1"});var s=r(m,2);o(s,{m:"n"}),a(),n(l,t)}}),n(e,$)}})}});var tr=r(_r,2);I(tr,{children:(d,j)=>{var e=jo(),c=v(e);g(c,{children:(i,f)=>{a();var l=ko();a(4),n(i,l)}});var $=r(c,2);g($,{children:(i,f)=>{a();var l=y(`Произведение перестановок одинаковой четности – четная перестановка, а разной четности – нечетная. Обратная
    перестановка имеет ту же самую четность, что и исходная.`);n(i,l)}}),n(d,e)}});var dr=r(tr,2);E(dr,{anchor:"cycles",children:(d,j)=>{a();var e=y("Циклы");n(d,e)}});var sr=r(dr,2);I(sr,{children:(d,j)=>{g(d,{children:(e,c)=>{var $=qo();a(),n(e,$)}})}});var vr=r(sr,2);I(vr,{children:(d,j)=>{g(d,{children:(e,c)=>{var $=yo(),i=r(v($),2);o(i,{m:"n"});var f=r(i,2);o(f,{m:"f(n) = f(n-1) + (n-1) dot f(n-2)"});var l=r(f,2);o(l,{m:"f(0)=f(1)=1"}),a(),n(e,$)}})}});var mr=r(vr,2);E(mr,{anchor:"inversions",children:(d,j)=>{a();var e=y("Инверсии");n(d,e)}});var ir=r(mr,2);I(ir,{children:(d,j)=>{var e=No(),c=v(e);g(c,{children:(f,l)=>{a();var h=So(),t=r(v(h));o(t,{m:"pi"});var m=r(t,2);o(m,{m:"1, 2, 3, dots, n"}),a(),n(f,h)}});var $=r(c,2);g($,{children:(f,l)=>{a();var h=Io(),t=r(v(h));o(t,{m:"i < j"});var m=r(t,2);o(m,{m:"a_i > a_j"});var s=r(m,2);o(s,{m:"(a_i, a_j)"}),a(),n(f,h)}});var i=r($,2);g(i,{children:(f,l)=>{a();var h=y(`Каждая инверсия – пара элементов, нарушающих порядок. Поэтому перестановка без инверсий только одна –
    тождественная. А количество инверсий неформально определяет то, насколько близка перестановка к тождественной.`);n(f,h)}}),n(d,e)}});var lr=r(ir,2);I(lr,{children:(d,j)=>{var e=Eo(),c=v(e);g(c,{children:(l,h)=>{var t=Bo(),m=v(t);o(m,{m:"\\inv \\sigma"});var s=r(m,2);o(s,{m:"\\pi"}),n(l,t)}});var $=r(c,2);g($,{children:(l,h)=>{a();var t=Go(),m=r(v(t));o(m,{m:"\\inv \\pi = \\inv \\pi^{-1}"}),a(),n(l,t)}});var i=r($,2);g(i,{children:(l,h)=>{a();var t=y("Четность перестановки определяется четностью числа инверсий.");n(l,t)}});var f=r(i,2);o(f,{display:!0,m:"\\sign \\sigma = (-1)^{\\inv \\sigma}"}),n(d,e)}});var $r=r(lr,2);E($r,{anchor:"table-inversions",children:(d,j)=>{a();var e=y("Таблица инверсий");n(d,e)}});var pr=r($r,2);I(pr,{children:(d,j)=>{g(d,{children:(e,c)=>{a();var $=To(),i=r(v($));o(i,{m:"pi"});var f=r(i,2);o(f,{m:"1, 2, 3, dots, n"}),a(),n(e,$)}})}});var gr=r(pr,2);I(gr,{children:(d,j)=>{var e=wo(),c=v(e);g(c,{children:(i,f)=>{var l=Ho(),h=r(v(l),2);o(h,{m:"\\sigma"});var t=r(h,2);o(t,{m:"t_1, t_2, \\dotsc, t_n"});var m=r(t,2);o(m,{m:"t_j"});var s=r(m,2);o(s,{m:"\\sigma"});var x=r(s,2);o(x,{m:"j"});var p=r(x,2);o(p,{m:"j"}),a(),n(i,l)}});var $=r(c,2);g($,{children:(i,f)=>{a();var l=y("Таблица инверсий единственным образом определяет перестановку.");n(i,l)}}),n(d,e)}});var cr=r(gr,2);L(cr,{children:(d,j)=>{a();var e=Lo(),c=r(v(e));o(c,{m:"O(n^2)"}),n(d,e)}});var hr=r(cr,2);I(hr,{children:(d,j)=>{g(d,{children:(e,c)=>{a();var $=Co(),i=r(v($));o(i,{m:"O(n^2)"}),a(),n(e,$)}})}});var fr=r(hr,2);w(fr,{language:"python",code:`def inversion_table(p):
    t = [0] * len(p)

    for i in range(len(p)):
        for j in range(i):
            if p[j] > p[i]:
                t[p[i]-1] += 1
    return t`});var Pr=r(fr,2);L(Pr,{children:(d,j)=>{a();var e=Ao(),c=r(v(e));o(c,{m:"O(n \\log n)"}),n(d,e)}});var ur=r(Pr,2);w(ur,{language:"python",code:`def inversion_table_merge(t1, t2):
    t = []
    i1, i2 = 0, 0

    while i1 < len(t1) and i2 < len(t2):
        if t1[i1][0] < t2[i2][0]:
            t.append(t1[i1])
            i1 += 1
        else:
            t.append((t2[i2][0], t2[i2][1] + len(t1) - i1))
            i2 += 1

    while i1 < len(t1):
        t.append(t1[i1])
        i1 += 1

    while i2 < len(t2):
        t.append(t2[i2])
        i2 += 1

    return t


def inversion_table(p):  
    if len(p) == 1:
        return [(p[0], 0)]

    return inversion_table_merge(
        inversion_table_get(p[:len(p)//2]),
        inversion_table_get(p[len(p)//2:])
    )`});var xr=r(ur,2);L(xr,{anchor:"distribution-of-inversions",children:(d,j)=>{a();var e=y("Распределение числа инверсий");n(d,e)}});var br=r(xr,2);I(br,{children:(d,j)=>{var e=Jo(),c=v(e);g(c,{children:(P,k)=>{a();var b=Oo(),q=r(v(b));o(q,{m:"n"});var S=r(q,2);o(S,{m:"k"});var N=r(S,2);o(N,{m:"I_n(k)"});var B=r(N,2);o(B,{m:"I_n(k) = 0"});var T=r(B,2);o(T,{m:"k < 0"});var H=r(T,2);o(H,{m:"k > \\binom{n}{2}"});var Er=r(H,2);o(Er,{m:"I_n(0) = 1"});var Tr=r(Er,2);o(Tr,{m:"I_n(1) = n-1"});var Or=r(Tr,2);o(Or,{m:"I_n"}),a(),n(P,b)}});var $=r(c,2);o($,{display:!0,m:"I_n \\Biggl( \\binom{n}{2} - k \\Biggr) = I_n(k)"});var i=r($,2);g(i,{children:(P,k)=>{a();var b=Qo(),q=r(v(b));o(q,{m:"I_n(k)"});var S=r(q,2);o(S,{m:"G_n(x) = \\sum_{k=0}^\\oo I_n(k) \\cdot x^k"}),a(),n(P,b)}});var f=r(i,2);g(f,{children:(P,k)=>{a();var b=Do(),q=r(v(b));o(q,{m:"b_k"}),a(),n(P,b)}});var l=r(f,2);o(l,{display:!0,m:"G_n(x) = \\bigl( 1 + x + x^2 + \\dotsb + x^{n-1} \\bigr) \\cdot G_{n-1} (x)"});var h=r(l,2);g(h,{children:(P,k)=>{a();var b=y("Отсюда заключаем, что");n(P,b)}});var t=r(h,2);o(t,{display:!0,m:`G_n(x) = \\sum_{k=0}^\\oo I_n(k) \\cdot x^k = \\frac{1}{(1-x)^n} \\cdot \\prod_{j=1}^n (1-x^j)
                 = \\frac{\\bigl( 1-x^n \\bigr) \\, \\bigl( 1-x^{n-1} \\bigr) \\, \\dotsm \\, \\bigl( 1-x^2 \\bigr) \\, (1-x)}{(1-x)^n}`});var m=r(t,2);g(m,{children:(P,k)=>{a();var b=Mo(),q=r(v(b));o(q,{m:"G_n (x)"}),a(),n(P,b)}});var s=r(m,2);o(s,{display:!0,m:"I_n (k) = \\sum_{j=0}^{n-1} I_{n-1} (k-j) = I_{n-1} (k) + I_{n-1} (k-1) + \\dotsb + I_{n-1} (k-n+1)"});var x=r(s,2);g(x,{children:(P,k)=>{a();var b=zo(),q=r(v(b));o(q,{m:"I_n (k)"}),a(),n(P,b)}});var p=r(x,2);o(p,{display:!0,m:`I_n (k) = \\sum_{j=-\\oo}^\\oo (-1)^j \\binom{n+k-u_j-1}{k-u_j}
                  = \\sum_{j = 0}^\\oo (-1)^j \\cdot \\Biggl( \\binom{n+k-u_j-1}{k-u_j} + \\binom{n+k-u_{-j}-1}{k-u_{-j}} \\Biggr)
          \\quad \\text{при}~ n \\ge k`});var u=r(p,2);g(u,{children:(P,k)=>{a();var b=Fo(),q=r(v(b));o(q,{m:"u_j = (3j^2-j)/2"}),a(),n(P,b)}}),n(d,e)}});var kr=r(br,2);I(kr,{children:(d,j)=>{var e=Wo(),c=v(e);g(c,{children:(s,x)=>{a();var p=Ko(),u=r(v(p));o(u,{m:"G_n (x)"});var P=r(u,2);o(P,{m:"n!"});var k=r(P,2);o(k,{m:"g_n (x)"});var b=r(k,2);o(b,{m:"n"}),a(),n(s,p)}});var $=r(c,2);o($,{display:!0,m:"g_n (x) = G_n (x) / n! = \\sum_{k=0}^\\oo \\frac{I_n (k)}{n!} \\cdot x^k"});var i=r($,2);g(i,{children:(s,x)=>{a();var p=Ro(),u=r(v(p));o(u,{m:"g_n (x)"}),a(),n(s,p)}});var f=r(i,2);o(f,{display:!0,m:`g_n (x) = \\frac{1}{n!} \\cdot \\prod_{j=1}^n \\bigl( 1 + x + x^2 + \\dotsb + x^{j-1} \\bigr)
                  = \\prod_{k=1}^n \\frac{1 + x + x^2 + \\dotsb + x^{k-1}}{k} = \\prod_{k=1}^n h_k (x)`});var l=r(f,2);g(l,{children:(s,x)=>{a();var p=Uo(),u=r(v(p));o(u,{m:"h_k (x) = \\bigl( 1 + x + x^2 + \\dotsb + x^{k-1} \\bigr) \\big/ k"});var P=r(u,2);o(P,{m:"k"}),a(),n(s,p)}});var h=r(l,2);o(h,{display:!0,m:`\\alignat{2}{
          \\mean g_n &= \\sum_{k=1}^n \\mean h_k &&= \\sum_{k=1}^n \\sum_{j=0}^{k-1} \\frac{j}{k} = \\frac{n \\, (n-1)}{4} \\\\
          \\var g_n &= \\sum_{k=1}^n \\var h_k &&= \\sum_{k=1}^n \\frac{k^2-1}{12} = \\frac{n \\, (2n+5) \\, (n-1)}{72}
          }`});var t=r(h,2);g(t,{children:(s,x)=>{a();var p=Vo(),u=r(v(p));o(u,{m:"n"}),a(),n(s,p)}});var m=r(t,2);o(m,{display:!0,m:`\\min = 0  ,\\quad
          \\mean = \\frac{n \\, (n-1)}{4}  ,\\quad
          \\max = \\binom{n}{2}  ,\\quad
          \\dev = \\sqrt{\\frac{n \\, (2n+5) \\, (n-1)}{72}}
          `}),n(d,e)}});var jr=r(kr,2);E(jr,{anchor:"indexes",children:(d,j)=>{a();var e=y("Индексы");n(d,e)}});var qr=r(jr,2);I(qr,{children:(d,j)=>{var e=Yo(),c=v(e);g(c,{children:(i,f)=>{var l=Xo(),h=r(v(l),2);o(h,{m:"\\ind \\sigma"});var t=r(h,2);o(t,{m:"\\sigma"});var m=r(t,2);o(m,{m:"j"});var s=r(m,2);o(s,{m:"\\sigma(j) > \\sigma(j+1)"});var x=r(s,2);o(x,{m:"1 \\le j < n"}),a(),n(i,l)}});var $=r(c,2);g($,{children:(i,f)=>{a();var l=y("Индексами перестановок интересовался Патрик Алан МакМагон.");n(i,l)}}),n(d,e)}});var yr=r(qr,2);C(yr,{title:"Теорема МакМагона",children:(d,j)=>{I(d,{children:(e,c)=>{var $=ra(),i=v($);g(i,{children:(l,h)=>{a();var t=Zo(),m=r(v(t));o(m,{m:"k"});var s=r(m,2);o(s,{m:"k"}),a(),n(l,t)}});var f=r(i,2);o(f,{display:!0,m:"\\bigl| \\{ \\sigma \\in \\S_n : \\ind \\sigma = k \\} \\bigr| = I_n (k)"}),n(e,$)}})}});var Sr=r(yr,2);Hr(Sr,{children:(d,j)=>{var e=ma(),c=v(e);I(c,{children:(f,l)=>{var h=na(),t=v(h);g(t,{children:(p,u)=>{a();var P=y("Рассмотрим производящую функцию числа перестановок с данным индексом");n(p,P)}});var m=r(t,2);o(m,{display:!0,m:"H_n (x) = \\sum_{\\sigma \\in \\S_n} x^{\\ind \\sigma}"});var s=r(m,2);g(s,{children:(p,u)=>{a();var P=oa(),k=r(v(P));o(k,{m:"x^k"});var b=r(k,2);o(b,{m:"k"}),a(),n(p,P)}});var x=r(s,2);g(x,{children:(p,u)=>{a();var P=aa(),k=r(v(P));o(k,{m:"H_n (x) = G_n (x)"});var b=r(k,2);o(b,{m:"G_n (x)"});var q=r(b,2);o(q,{m:"I_n (k)"}),a(),n(p,P)}}),n(f,h)}});var $=r(c,2);I($,{children:(f,l)=>{var h=da(),t=v(h);g(t,{children:(u,P)=>{a();var k=ea(),b=r(v(k));o(b,{m:"n"});var q=r(b,2);o(q,{m:"(q_1, q_2, \\dotsc, q_n) \\in \\NN_0^n"});var S=r(q,2);o(S,{m:"\\bigl( \\sigma, (p_1, p_2, \\dotsc, p_n) \\bigr) \\in \\S_n \\times \\NN_0^n"});var N=r(S,2);o(N,{m:"p_1 \\ge p_2 \\ge \\dotsb \\ge p_n \\ge 0"}),a(),n(u,k)}});var m=r(t,2);g(m,{children:(u,P)=>{a();var k=y("Биекцию составим так, чтобы");n(u,k)}});var s=r(m,2);o(s,{display:!0,m:"\\sum_{j=1}^n q_j = \\ind \\sigma + \\sum_{j=1}^n p_j"});var x=r(s,2);g(x,{children:(u,P)=>{a();var k=_a(),b=r(v(k));o(b,{m:"n"});var q=r(b,2);o(q,{m:"(q_1, q_2, \\dotsc, q_n) \\in \\NN_0^n"});var S=r(q,2);o(S,{m:"\\sigma \\in \\S_n"});var N=r(S,2);o(N,{m:"(q_{\\sigma(1)}, q_{\\sigma(2)}, \\dotsc, q_{\\sigma(n)}) \\in \\NN_0^n"});var B=r(N,2);o(B,{m:"q_{\\sigma(1)} \\ge q_{\\sigma(2)} \\ge \\dotsb \\ge q_{\\sigma(n)}"});var T=r(B,2);o(T,{m:"q_{\\sigma(j)} = q_{\\sigma(j+1)}"});var H=r(T,2);o(H,{m:"\\sigma(j) < \\sigma(j+1)"}),n(u,k)}});var p=r(x,2);g(p,{children:(u,P)=>{a();var k=ta(),b=r(v(k));o(b,{m:"\\bigl( \\sigma(j), \\sigma(j+1) \\bigr)"});var q=r(b,2);o(q,{m:"\\sigma(j) > \\sigma(j+1)"});var S=r(q,2);o(S,{m:"1"});var N=r(S,2);o(N,{m:"q_{\\sigma(1)}, q_{\\sigma(2)}, \\dotsc, q_{\\sigma(j)}"});var B=r(N,2);o(B,{m:"(p_1, p_2, \\dotsc, p_n)"}),a(),n(u,k)}}),n(f,h)}});var i=r($,2);I(i,{children:(f,l)=>{var h=va(),t=v(h);g(t,{children:(b,q)=>{a();var S=y("Производящая функция из первых наборов");n(b,S)}});var m=r(t,2);o(m,{display:!0,m:"Q_n (x) = \\sum_{(q_1, q_2, \\dotsc, q_n) \\in \\NN_0^n} x^{q_1 + q_2 + \\dotsb + q_n} = \\frac{1}{(1-x)^n}"});var s=r(m,2);g(s,{children:(b,q)=>{a();var S=sa(),N=r(v(S));o(N,{m:"p"});var B=r(N,2);o(B,{m:"n"}),a(),n(b,S)}});var x=r(s,2);o(x,{display:!0,m:`P_n (x)
          = \\sum_{\\substack{(p_1, p_2, \\dotsc, p_n) \\in \\NN_0^n \\\\! p_1 \\ge p_2 \\ge \\dotsb \\ge p_n \\ge 0}} x^{p_1 + p_2 + \\dotsb + p_n}
          = \\frac{1}{(1-x) \\, \\bigl( 1-x^2 \\bigr) \\, \\dotsm \\, \\bigl( 1-x^n \\bigr) }`});var p=r(x,2);g(p,{children:(b,q)=>{a();var S=y("Поскольку мы установили биекцию, получаем, что");n(b,S)}});var u=r(p,2);o(u,{display:!0,m:"\\sum_{j=1}^n q_j = \\ind \\sigma + \\sum_{j=1}^n p_j \\implies Q_n (x) = H_n (x) \\cdot P_n(x)"});var P=r(u,2);g(P,{children:(b,q)=>{a();var S=y("А значит");n(b,S)}});var k=r(P,2);o(k,{display:!0,m:"H_n (x) = \\frac{Q_n (x)}{P_n (x)} = G_n (x)"}),n(f,h)}}),n(d,e)}});var Ir=r(Sr,2);I(Ir,{children:(d,j)=>{var e=la(),c=v(e);g(c,{children:(i,f)=>{a();var l=ia(),h=r(v(l));o(h,{m:"n"}),a(),n(i,l)}});var $=r(c,2);o($,{display:!0,m:`\\min = 0  ,\\quad
          \\mean = \\frac{n \\, (n-1)}{4}  ,\\quad
          \\max = \\binom{n}{2}  ,\\quad
          \\dev = \\sqrt{\\frac{n \\, (2n+5) \\, (n-1)}{72}}
          `}),n(d,e)}});var Nr=r(Ir,2);I(Nr,{children:(d,j)=>{g(d,{children:(e,c)=>{a();var $=y("Доминик Фоата и Марсель-Поль Шютценбергер нашли обобщение теоремы Мак-Магона спустя 65 лет.");n(e,$)}})}});var Br=r(Nr,2);C(Br,{title:j=>{a();var e=y("Теорема Фоата – Шуценберже");n(j,e)},children:(j,e)=>{I(j,{children:(c,$)=>{var i=pa(),f=v(i);g(f,{children:(h,t)=>{a();var m=$a(),s=r(v(m));o(s,{m:"k"});var x=r(s,2);o(x,{m:"l"});var p=r(x,2);o(p,{m:"l"});var u=r(p,2);o(u,{m:"k"}),a(),n(h,m)}});var l=r(f,2);o(l,{display:!0,m:`\\{\\sigma \\in \\S_n : \\inv \\sigma = k \\land \\ind \\sigma = l \\} \\longleftrightarrow
          \\{\\sigma \\in \\S_n : \\ind \\sigma = k \\land \\inv \\sigma = l\\}`}),n(c,i)}})}});var Gr=r(Br,2);E(Gr,{anchor:"exercises",children:(d,j)=>{a();var e=y("Упражнения");n(d,e)}});var Ar=r(Gr,2);Dr(Ar,{children:(d,j)=>{var e=xa(),c=v(e);wr(c,{number:1,children:(i,f)=>{I(i,{children:(l,h)=>{var t=ca(),m=v(t);g(m,{children:(x,p)=>{a();var u=ga(),P=r(v(u));o(P,{m:"n > m"});var k=r(P,2);o(k,{m:"n"});var b=r(k,2);o(b,{m:"r"});var q=r(b,2);o(q,{m:"m"});var S=r(q,2);o(S,{m:"n! / m"});var N=r(S,2);o(N,{m:"r"}),a(),n(x,u)}});var s=r(m,2);o(s,{display:!0,m:"\\bigl| \\{ \\sigma \\in \\S_n : \\inv \\sigma \\eqmod{m} r \\} \\bigr| = n! / m"}),n(l,t)}})}});var $=r(c,2);wr($,{number:2,children:(i,f)=>{I(i,{children:(l,h)=>{var t=ua(),m=v(t);g(m,{children:(u,P)=>{a();var k=ha(),b=r(v(k));o(b,{m:"\\sigma \\in \\S_n"});var q=r(b,2);o(q,{m:"n"});var S=r(q,2);o(S,{m:"E(\\sigma)"});var N=r(S,2);o(N,{m:"\\sigma"});var B=r(N,2);o(B,{m:"N (\\sigma)"});var T=r(B,2);o(T,{m:"\\sigma"}),a(),n(u,k)}});var s=r(m,2);o(s,{display:!0,m:`\\align{
          E (\\sigma) &\\defeq \\Bigl\\{ \\bigl( \\sigma(i), \\sigma(j) \\bigr) \\Bigm| i < j \\land \\sigma(i) > \\sigma(j) \\Bigr\\} \\\\
          N (\\sigma) &\\defeq \\Bigl\\{ \\bigl( \\sigma(i), \\sigma(j) \\bigr) \\Bigm| i > j \\land \\sigma(i) > \\sigma(j) \\Bigr\\}
          }`});var x=r(s,2);g(x,{children:(u,P)=>{a();var k=fa(),b=r(v(k));o(b,{m:"E(\\sigma)"});var q=r(b,2);o(q,{m:"N(\\sigma)"}),a(),n(u,k)}});var p=r(x,2);g(p,{children:(u,P)=>{a();var k=Pa(),b=r(v(k));o(b,{m:"T = \\bigl\\{ (x, y) \\bigm| 1 \\le y < x \\le n \\land x, y \\in \\NN \\bigr\\}"});var q=r(b,2);o(q,{m:"A \\subset T"});var S=r(q,2);o(S,{m:"T \\without A"});var N=r(S,2);o(N,{m:"\\sigma \\in \\S_n"});var B=r(N,2);o(B,{m:"E(\\sigma) = A"}),a(),n(u,k)}}),n(l,t)}})}}),n(d,e)}}),n(Cr,A)}export{Oa as component};
