<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <link rel="icon" href="../../favicon.svg"/>
    <link rel="stylesheet" href="../../fonts/Inter/inter.css"/>
    <link rel="stylesheet" href="../../fonts/JetBrainsMono/jetbrainsmono.css"/>
    <link rel="stylesheet" href="../../variables.css"/>
    <link rel="stylesheet" href="../../global.css"/>
    <link rel="stylesheet" href="../../katex.css"/>

    <link rel="stylesheet" media="print" href="../../print.css">

    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    
		<link href="../../_app/immutable/assets/Link.Cb7NHG_N.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Button.DCPIk07g.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Icon.D0g2C4hd.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/0.ieOoEAmI.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/2.DXAScjb8.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Title.DPHn_YVg.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Par.K_845M5t.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/P.BQjmqsBn.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Block.BmKK-wfG.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/ListItem.BKpMqDLa.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/BulletList.DQWRVM89.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Heading.B4n5dO8q.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Math.oZcZgltA.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/EnumList.CtnWplwG.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.Dkklk6Rf.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DsAObCLR.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/O64VAD6H.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BWp35gWV.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DIeogL5L.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CNky9LEp.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/HEAPfHvV.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DkB2Co80.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.Bva7xl9u.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CWj6FrbW.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BOcoFmK4.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/MBbrtcMh.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/D-GYhs9T.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.LPgsIMBt.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/C9z9AdnA.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DDpIWRRY.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DlH7fH6r.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DvKvArtv.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DPocoKFO.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/UpSqMDag.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/69_IOA4Y.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/2.Di9RQfus.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/157.CqNx7Wkd.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CR7k0xtG.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DPzc5wQr.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/B7flgP-x.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DlTIf4aM.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/B53uy30Q.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/NE91WFFs.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CZ1-HcAj.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DXKx2xvL.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BqyEoRxA.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DAvg0_9P.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/C2dv2nOL.js"><!--[--><!--]--><!--[--><!--]--><title>Кэши</title>
</head>
<body data-sveltekit-preload-data="hover">
<div style="display: contents"><!--[--><!--[--><!----><header class="svelte-9v5dz7"><img src="/favicon.svg" alt="" role="presentation" class="svelte-9v5dz7"/> <button type="button" id="mobile-menu-button" class="subtle svelte-apk4jo"><!--[!--><svg viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="svelte-1tf3wrl" style="height: 1.5rem; margin: 0rem;"><path d="M40 12L8 12" stroke="currentColor" stroke-width="6" stroke-linecap="round"></path><path d="M40 24L8 24" stroke="currentColor" stroke-width="6" stroke-linecap="round"></path><path d="M40 36L8 36" stroke="currentColor" stroke-width="6" stroke-linecap="round"></path><!----></svg><!----> Меню<!----><!--]--></button><!----> <!--[--><nav class="svelte-9v5dz7"><!--[--><a href="/knowledge" class="svelte-1txvory colorless"><!---->База знаний<!----></a><a href="/scenario" class="svelte-1txvory colorless"><!---->Сценарий<!----></a><a href="/tasks" class="svelte-1txvory colorless"><!---->Задания<!----></a><a href="/rules" class="svelte-1txvory colorless"><!---->Правила игры<!----></a><!--]--></nav><!--]--></header> <!--[!--><!--]--><!----><!----> <main><!--[--><!----><article class="svelte-1cvbhgs"><!----><div class="title svelte-uw1xhm"><!--[!--><h1 class="svelte-uw1xhm">Кэши</h1><!--]--></div><!----> <div class="par svelte-q2zea3"><p class="svelte-xyzgp3"><!---->Данных всегда очень много. Из-за этого часто проблемным становится быстрый и эффективный доступ к данным.
        В идеальном мире быстрый доступ к данным организовать невозможно, потому что все данные одинаково нужны.
        Но наш мир не идеален. И мы можем этой неидеальностью воспользоваться.<!----></p><!----> <p class="svelte-xyzgp3"><!---->Неидеальность выражается в неоднородности требований данных. Какие-то данные нужны чаще. а какие-то реже.
        Рядового пользователя будет гораздо чаще волновать вопрос о сегодняшней погоде,
        нежели вопрос о средней длине летучей мыши.
        Ключ к повышению производительности в том, что ответы на частые вопросы можно сразу получить и запомнить.<!----></p><!----><!----></div><!----> <div class="par svelte-q2zea3"><p class="svelte-xyzgp3"><!---->Представим работу справочного агенства.
        Есть большая книга с городскими заведениями, для каждого заведения есть базовая информация: название и описание.
        Нам поступают запросы «а что это за заведение?» Мы должны отвечать.<!----></p><!----> <p class="svelte-xyzgp3"><!---->Когда нам поступил какой-то запрос, мы начинаем искать в этой большой книге нужную информацию.
        Для простоты представим, что данные в книге не адаптированы под поиск и находятся там хаотично.<!----></p><!----> <p class="svelte-xyzgp3"><!---->Если нам очень часто поступает запрос про заведение «Рога и копыта» мы просто выучим описание.
        Теперь, когда к нам очередной клиент обратится с таким запросом, мы просто дадим ему ответ из памяти,
        не совершая при этом дорогую и долгую операцию поиска в книге.<!----></p><!----> <p class="svelte-xyzgp3"><!---->Здесь наш мозг повел себя как кэш — относительно небольшое хранилище с быстрым доступом к данным.<!----></p><!----><!----></div><!----> <div class="block svelte-1socrhn definition"><h3 class="svelte-1socrhn"><svg viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="svelte-1tf3wrl" style="height: 1.25rem; margin: 0rem;"><path d="M30 40L30 8" stroke="currentColor" stroke-width="6" stroke-linecap="round"></path><path d="M18 40L18 8" stroke="currentColor" stroke-width="6" stroke-linecap="round"></path><path d="M40 18L8 18" stroke="currentColor" stroke-width="6" stroke-linecap="round"></path><path d="M40 30L8 30" stroke="currentColor" stroke-width="6" stroke-linecap="round"></path><!----></svg><!----> <!--[!-->Кэширование и кэш<!--]--></h3> <p class="svelte-xyzgp3"><b>Кэширование</b> — это метод оптимизации доступа к данным,
        при котором часто используемая информация сохраняется в быстром хранилище — <b>кэше</b> для уменьшения времени обработки запросов и снижения нагрузки на медленные источники данных.<!----></p><!----></div><!----> <div class="par svelte-q2zea3"><p class="svelte-xyzgp3"><!---->Понятие достаточно абстрактное, и это не с проста.
        Типов хранилищ очень много, и для каждого есть какие-то специфичные условия использования.
        Когда мы хотим сделать наиболее эффективную программу или систему, все эти нюансы всплывают сразу же.<!----></p><!----> <p class="svelte-xyzgp3"><!---->Итак, зачем вообще нужно кэшировать?<!----></p><!----><!----></div><!----> <ul class="svelte-119ikxp"><li class="svelte-fa1o"><p class="svelte-xyzgp3"><!---->Ускорение доступа к данным.
            Если мы поместим часто используемые данные в быстрое хранилище, общее время доступа к данным увеличится.
            Важно, что это преимущество относится только к io-bound нагрузке.<!----></p><!----></li><!----> <li class="svelte-fa1o"><p class="svelte-xyzgp3"><!---->Снижение нагрузки на хранилище.
            Если какие-то запросы мы будем обрабатывать вне хранилища, то нагрузка на само хранилище уменьшается.<!----></p><!----></li><!----><!----></ul><!----> <div class="par svelte-q2zea3"><p class="svelte-xyzgp3"><!---->Сам кэш (пока абстрактный) имеет ассоциативную структуру.<!----></p><!----></div><!----> <h1 class="svelte-mdj34r"><!---->Hit ratio<!----></h1><!----> <div class="par svelte-q2zea3"><p class="svelte-xyzgp3"><!---->Измерять эффективность кэша в общем случае сложно.
        Обусловлена эта сложность тем, что реальные запросы слишком неоднородны.
        Однако, можно ввести интуитивно понятную оценку — частота «попаданий».<!----></p><!----> <p class="svelte-xyzgp3"><!---->Если в какой-то серии запросов результирующие данные оказались в кэше большое количество раз,
        значит кэш хороший, а если маленькое количество раз, то кэш плохой.
        Формально эффективность можно измерить характеристикой hit ratio.<!----></p><!----><!----></div><!----> <div class="block svelte-1socrhn definition"><h3 class="svelte-1socrhn"><svg viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="svelte-1tf3wrl" style="height: 1.25rem; margin: 0rem;"><path d="M30 40L30 8" stroke="currentColor" stroke-width="6" stroke-linecap="round"></path><path d="M18 40L18 8" stroke="currentColor" stroke-width="6" stroke-linecap="round"></path><path d="M40 18L8 18" stroke="currentColor" stroke-width="6" stroke-linecap="round"></path><path d="M40 30L8 30" stroke="currentColor" stroke-width="6" stroke-linecap="round"></path><!----></svg><!----> <!--[!-->Hit ratio<!--]--></h3> <p class="svelte-xyzgp3"><b>Hit ratio</b> или <b>коэффициент попаданий</b> — средняя доля запросов, обслуженных кэшем.<!----></p><!----> <!--[--><div class="math-display svelte-16qk674"><!----><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mi mathvariant="normal">h</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">t</mi><mtext> </mtext><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">o</mi></mrow><mo>=</mo><mfrac><mtext>число попаданий в кэш</mtext><mtext>общее число запросов</mtext></mfrac></mrow><annotation encoding="application/x-tex">\mathrm{hit~ratio} = \frac{\text{число попаданий в кэш}}{\text{общее число запросов}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathrm">hit</span><span class="mspace nobreak"> </span><span class="mord mathrm">ratio</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.988em;vertical-align:-0.8804em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cyrillic_fallback">общее</span><span class="mord"> </span><span class="mord cyrillic_fallback">число</span><span class="mord"> </span><span class="mord cyrillic_fallback">запросов</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cyrillic_fallback">число</span><span class="mord"> </span><span class="mord cyrillic_fallback">попаданий</span><span class="mord"> </span><span class="mord cyrillic_fallback">в</span><span class="mord"> </span><span class="mord cyrillic_fallback">кэш</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span><!----></div><!--]--><!----><!----></div><!----><!----><!----></article> <div class="svelte-1cvbhgs"></div><!----><!--]--><!----></main><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_1h7j5ru = {
						base: new URL("../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../../_app/immutable/entry/start.Dkklk6Rf.js"),
						import("../../_app/immutable/entry/app.Bva7xl9u.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 157],
							data: [null,null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
</body>
</html>
